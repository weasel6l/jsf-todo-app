---
name: tdd-java
description: JUnit 5 を用いた TDD 実装ルール。デトロイト派・@Nested・@DisplayName・Given-When-Then コメント構文によるテスト実装規約を含む
---

## 1. TDD 実装ルール

- 必ずTDDで実装を行う

- 実装開始時は、まず
  **典型的な正常系テストを 1 件作成する**
  - 入力値と期待結果が最も分かりやすいケースを選択する

- 正常系テストが通過した後、
  境界値・異常系のテストを段階的に追加する

- 実装は通常の TDD サイクルで進める
  - Red：失敗するテストを書く
  - Green：最小限の実装でテストを通す
  - Refactor：重複除去・責務整理を行う

- Refactor は省略してはならない
  - 可読性・設計改善を目的とする

---

## 2. 単体テスト規約

- 単体テストは JUnit 5 で実装する
- テスト方針はデトロイト派とする
- Resource クラスには対応する ResourceTest を実装する
- Mock は 境界（外部 I/O）のみ に使用する
- @Nested を用いてテスト観点ごとにグループ化する
- テストメソッドには @DisplayName を付与し、日本語で観点を記載する
- テストメソッド名は英語で記述する
- Given-When-Then 構文を用いてテストを構成する
- アサーションには必ず message を記載する
- オブジェクトのアサーションには AssertJ を使用する
  - assertThat を用いた fluent API を利用する
  - equals に依存した比較は禁止する
- パラメータライズドテストは原則使用しない
  - ただしバリデーションや境界値検証では使用を許可する
